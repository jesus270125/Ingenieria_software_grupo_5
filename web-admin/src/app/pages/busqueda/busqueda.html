<div class="breadcrumb">
    Panel / <strong>Búsqueda</strong>
</div>

<div class="page-header">
    <h1 class="page-title">Buscador de Productos</h1>
    <p style="color: var(--text-muted); margin-top: 5px;">
        Utiliza los filtros para encontrar productos específicos en todos los locales.
    </p>
</div>

<!-- TARJETA DE FILTROS -->
<div class="card filter-card">
    <div class="filter-grid">

        <div class="form-group">
            <label class="form-label">Nombre del Producto</label>
            <div class="input-icon-wrapper">
                <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" class="form-control with-icon" placeholder="Ej. Laptop, Monitor..." [(ngModel)]="nombre">
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Categoría</label>
            <input type="text" class="form-control" placeholder="Ej. Tecnología" [(ngModel)]="categoria">
        </div>

        <div class="form-group button-container">
            <label class="form-label">&nbsp;</label>
            <button class="btn-primary full-width" (click)="buscar()">
                Buscar
            </button>
        </div>

    </div>
</div>

<!-- RESULTADOS -->
<div class="results-section" *ngIf="resultados.length > 0; else noResultsTemplate">
    <div class="section-title-wrapper">
        <h3 class="section-title">
            Resultados de la búsqueda 
            <span class="badge-count">{{ resultados.length }}</span>
        </h3>
    </div>

    <div class="card">
        <div class="table-responsive">
            <table class="custom-table">
                <thead>
                    <tr>
                        <th>Nombre del Producto</th>
                        <th>Categoría</th>
                        <th>Precio</th>
                        <th style="text-align: right;">Acciones</th>
                    </tr>
                </thead>
                <tbody>

                    <tr *ngFor="let r of resultados">
                        <td><div class="fw-bold">{{ r.nombre }}</div></td>
                        <td><span class="category-tag">{{ r.categoria }}</span></td>
                        <td><span class="price-tag">S/. {{ r.precio }}</span></td>
                        <td style="text-align: right;">
                            <button class="btn-icon-action" title="Ver detalle">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </button>
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- SIN RESULTADOS -->
<ng-template #noResultsTemplate>
    <div class="empty-search-state">
        <div class="icon-placeholder">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
        </div>
        <p class="empty-text">Ingresa los criterios arriba para buscar productos</p>
    </div>
</ng-template>
